<!--
 * @Author: tangdaoyong
 * @Date: 2021-01-21 09:17:40
 * @LastEditors: tangdaoyong
 * @LastEditTime: 2021-01-21 09:48:33
 * @Description: Shell函数
-->
# Shell函数

[Shell函数](https://www.cnblogs.com/ericz2j/p/12045667.html)

## 介绍

* 函数创建
```sh
#!/bin/zsh -v
# shellFunc.sh
function mt_test {
    echo "hello, test"
}

mt_run() {
    echo "hello, run"
}
```
**注意**函数定义的位置一定要在使用到该函数的位置之前。

* 退出状态码

默认情况下，函数的退出状态码是函数中最后一条命令返回的退出状态码。在函数执行结束后，可以用标准变量`$?`来确定函数的退出状态码。如果函数中的最后一条命令成功运行则退出码是`1`否则是`0`。

`return`命令来退出函数并返回特定的退出状态码。`return`命令允许指定一个整数值来定义函数的退出状态码，从而提供了一种简单的途径来编程设定函数退出状态码。
但当用`return`这种方法从函数中返回值时，要小心了。记住下面两条技巧来避免问题：
* 函数一结束就取返回值；
* 退出状态码必须是0~255。
## 函数传参

在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 $n 的形式来获取参数的值，例如，$1表示第一个参数，$2表示第二个参数。
**注意**，$10 不能获取第十个参数，获取第十个参数需要${10}。当n>=10时，需要使用${n}来获取参数。

## 常用变量

| 特殊变量 | 说明 |
| - | - |
| $# | 传递给函数的参数个数。 |
| $* | 显示所有传递给函数的参数。 |
| $@ | 与$*相同，但是略有区别，请查看Shell特殊变量。 |
| $? | 函数的返回值。 |